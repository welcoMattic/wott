{% extends 'wottFrontBundle::layout.html.twig' %}
{% block content %}
    <!-- menu filtres-->
    <div class="row" id="filter">
        <div class="col-md-12">
            <div class="navbar navbar-default" role="navigation">
                <div class="collapse navbar-collapse">
                    {{ knp_menu_render('wottFrontBundle:Builder:filtersMenu', { 'style': 'navbar' }) }}
                    <form class="navbar-form navbar-left" role="search">
                        <div class="form-group">
                            <input type="search" class="form-control" placeholder="Search">
                        </div>
                        <button type="submit" class="btn btn-default">Submit</button>
                    </form>
                    <ul class="nav navbar-nav navbar-right">
                        <li><button type="button" class="btn bt-default btn-large display dispNone" data-display="grid">{{ icon('th') }}</button></li>
                        <li><button type="button" class="btn bt-default btn-large display" data-display="list">{{ icon('th-list') }}</button></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!--fin filtres-->

    {% block main %}{% endblock %}
{% endblock %}

{% block javascript %}
{{ parent() }}
<script>
$(document).ready(function(){

    $('.action').click(function(){

        idFilm=$(this).data('id');
        action=$(this).data('action')

        $.ajax({

           type: "POST",
           url: "{{ path('filmUser') }}",
           data: {"idFilm" : idFilm, "action" : action }
         }).done(function (response) {
            console.log(response);
        });

        return false;

    });

    $('.display').click(function(){

        display = $(this).data('display');

        $.ajax({
           type: "POST",
           url: "{{ path('list') }}/"+display,
           beforeSend:function(){
                $('#movies').remove();
                $('.progress').toggleClass('dispNone');
            }
         }).done(function (response) {
            $('#filter').after(response);
            $('.display').toggleClass('dispNone');
            $('.progress').toggleClass('dispNone');
        });

        return false;

    });


})
</script>

{% endblock %}
